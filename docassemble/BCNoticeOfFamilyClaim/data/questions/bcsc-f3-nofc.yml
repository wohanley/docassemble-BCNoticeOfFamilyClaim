comment: |
  The metadata section controls the tab title and saved interview title. You can delete this section if you include this YAML file in another YAML file.
metadata:
  title: |
    Notice of Family Claim
  short title: |
    NoFC
---
objects from file:
  - court_registries: court_registries.yml
---
comment: |
  This section is used by MAVirtualCourts to control how some of the questions work.
mandatory: True
code: |
  interview_metadata # make sure we initialize the object
  if not defined("interview_metadata['bcscf3nofc']"):
    interview_metadata.initializeObject('bcscf3nofc')
  interview_metadata['bcscf3nofc'].update({
    'title': 'Notice of Family Claim',
    'short title': 'NoFC',
    'description': 'For starting a family law case in BC Supreme Court.',
    'original_form': 'https://www2.gov.bc.ca/assets/gov/law-crime-and-justice/courthouse-services/court-files-records/court-forms/supreme-family/f3.pdf',
    'allowed courts': [
    ],
    'categories': [
      'Family Law',
    ],
    'logic block variable': 'bcscf3nofc',
    'attachment block variable': 'bcscf3nofc_attachment',
    'typical role': 'plaintiff',
  })
---
include:
  - docassemble.MAVirtualCourt:basic-questions.yml
---
features:
  navigation: True
---
sections:
  - review_bcscf3nofc: Review your answers
---
objects:
  - accumulated_template: DAFile
  - f3_base: DAStaticFile
  - f3_lawyer_certificate: DAStaticFile
---
id: interview_order_bcscf3nofc
code: |
  # Initialize template files

  f3_base.filename = 'data/templates/f3-base.pdf'
  f3_lawyer_certificate.filename = 'data/templates/f3-lawyer-certificate.pdf'

  accumulated_template = f3_base

  # Begin interview flow

  basic_questions_intro_screen 
  bcscf3nofc_intro
  # Set the allowed courts for this interview
  allowed_courts = interview_metadata["bcscf3nofc"]["allowed courts"]
  nav.set_section('review_bcscf3nofc')
  user_role = 'plaintiff'

  str(respondents[0])
  plaintiff_relationship
  respondent_relationship

  plaintiff_is_claiming_divorce
  plaintiff_is_claiming_order_respecting_children
  plaintiff_is_claiming_spousal_support
  plaintiff_is_claiming_family_property_and_debt
  plaintiff_is_claiming_order_for_costs
  plaintiff_is_claiming_alternative_order

  plaintiff_and_respondent_did_begin_marriage_like_relationship
  plaintiff_and_respondent_did_marry
  plaintiff_and_respondent_did_separate
  plaintiff_and_respondent_were_divorced

  if plaintiff_and_respondent_did_begin_marriage_like_relationship:
    marriage_like_relationship_start_date
  if plaintiff_and_respondent_did_marry:
    marriage_date
  if plaintiff_and_respondent_did_separate:
    separation_date
  if plaintiff_and_respondent_were_divorced:
    divorce_date

  prior_written_agreement_does_relate
  prior_court_order_does_relate
  prior_court_proceeding_does_relate
  nothing_prior_does_relate
  if prior_written_agreement_does_relate:
    prior_written_agreement_date
  if prior_court_order_does_relate:
    prior_court_order_date
  if prior_court_proceeding_does_relate:
    prior_court_proceeding_file_number
    prior_court_proceeding_registry

  court_file_number
  court_registry

  str(plaintiffs[0])
  plaintiffs[0].address.block()
  plaintiff_email
  plaintiff_fax
  signature_date

  plaintiff_has_lawyer # We need to know this so we can include the certificate if necessary
  if plaintiff_has_lawyer:
    accumulated_template = pdf_concatenate(accumulated_template, f3_lawyer_certificate)

  bcscf3nofc_preview_question # Pre-canned preview screen

  basic_questions_signature_flow
  plaintiffs[0].signature

  bcscf3nofc = True
---
comment: |
  This question is used to introduce your interview. Please customize
id: Notice of Family Claim
continue button field: bcscf3nofc_intro
question: |
  Notice of Family Claim
subquestion: |
  For starting a family law case in BC Supreme Court.
---
id: Placeholder preview screen
continue button field: bcscf3nofc_preview_question
question: |
  Placeholder preview screen
subquestion: |
  Here is a preview of the form you'll sign on the next page. 
  
   ${ bcscf3nofc_attachment['preview'] }
---
id: Claims
question: |
  What do you need the court to do?
fields:
  - 'I need an order for divorce.': plaintiff_is_claiming_divorce
    datatype: yesno
  - 'I need an order respecting children.': plaintiff_is_claiming_order_respecting_children
    datatype: yesno
  - 'I need an order for spousal support.': plaintiff_is_claiming_spousal_support
    datatype: yesno
  - 'I need an order relating to family property and family debt.': plaintiff_is_claiming_family_property_and_debt
    datatype: yesno
  - 'I need an order for legal costs.': plaintiff_is_claiming_order_for_costs
    datatype: yesno
  - 'I need another kind of order.': plaintiff_is_claiming_alternative_order
    datatype: yesno
---
id: Case history
question: |
  Has anything legal happened with this case so far?
fields:
  - "I already made a written agreement related to this matter.": prior_written_agreement_does_relate
    datatype: yesno
  - 'The court has already made an order about this matter.': prior_court_order_does_relate
    datatype: yesno
  - 'There has already been a court proceeding related to this matter.': prior_court_proceeding_does_relate
    datatype: yesno
  - 'None of the above applies. There is no history for this case.': nothing_prior_does_relate
    datatype: yesno
---
id: written agreement
question: When did you sign a written agreement about this matter?
fields:
  - Date of signing: prior_written_agreement_date
    datatype: date
---
id: court order date
question: When did the court issue an order about this matter?
fields:
  - Date of court order: prior_court_order_date
    datatype: date
---
id: prior proceeding registry
question: What was the registry for the court proceeding that already happened?
fields:
  - Registry: prior_court_proceeding_registry
    datatype: object
    choices:
      - court_registries
---
id: prior proceeding file number
question: What was the file number for the court proceeding that already happened?
subquestion: |
  Courts use file numbers to keep track of cases. If there has already been a court process related to the problem you have now, the court would have created a file number for that process at the time that it was happening.
fields:
  - File number: prior_court_proceeding_file_number
---
id: plaintiff relationship
question: In a few words, describe your relationship to ${ str(respondents[0]) }.
fields:
  - "I am: ": plaintiff_relationship
    hint: "for example: separated from ${ str(respondents[0]) }"
---
id: respondent relationship
question: "In a few words, describe ${ str(respondents[0]) }'s relationship to ${ str(plaintiffs[0]) }."
fields:
  - "${ str(respondents[0]) } is": respondent_relationship
    hint: "for example: married to ${ str(plaintiffs[0]) }"
---
id: Relationship milestones
question: |
  What has happened in your relationship with ${ str(respondents[0]) } so far?
fields:
  - 'Our relationship became marriage-like.': plaintiff_and_respondent_did_begin_marriage_like_relationship
    datatype: yesno
  - 'We got married.': plaintiff_and_respondent_did_marry
    datatype: yesno
  - 'We separated.': plaintiff_and_respondent_did_separate
    datatype: yesno
  - 'We were divorced.': plaintiff_and_respondent_were_divorced
    datatype: yesno
---
id: When did your relationship become marriage-like?
question: |
  When did your relationship with ${ str(respondents[0]) } become marriage-like?
fields:
  - Start date: marriage_like_relationship_start_date
    datatype: date
---
id: When were you married?
question: |
  When did you and ${ str(respondents[0]) } get married?
fields:
  - Date of marriage: marriage_date
    datatype: date
---
id: When did you separate?
question: |
  When did you and ${ str(respondents[0]) } separate?
fields:
  - Date of separation: separation_date
    datatype: date
---
id: When were you divorced?
question: |
  When were you and ${ str(respondents[0]) } divorced?
fields:
  - Date of divorce: divorce_date
    datatype: date
---
id: spousal support
question: |
  Spousal support
fields:
  - 'Spousal support current': spousal_support_current
    maxlength: 539
  - 'Claimant proposes support': claimant_proposes_support
    datatype: yesno
  - 'Spousal support proposed': spousal_support_proposed
    maxlength: 539
  - 'Claimant seeks statutory order': claimant_seeks_statutory_order
    datatype: yesno
  - 'Claimant seeks divorce act order': claimant_seeks_divorce_act_order
    datatype: yesno
  - 'Claimant seeks family law act order': claimant_seeks_family_law_act_order
    datatype: yesno
  - 'Claimant income annual gross': claimant_income_annual_gross
    datatype: currency
    min: 0
  - 'Claimant does not know spouse income': claimant_does_not_know_spouse_income
    datatype: yesno
  - 'Spouse income annual': spouse_income_annual
    datatype: currency
    min: 0
  - 'Claimant knows spouse income': claimant_knows_spouse_income
    datatype: yesno
  - 'Spouse income facts': spouse_income_facts
    maxlength: 539
---
id: plaintiff has lawyer
question: Do you have a lawyer?
subquestion: |
  If you have a lawyer **and** you are making a claim under the Family Law Act, your lawyer will need to sign a certificate. This is to make sure that your lawyer has discussed all your options with you, and that filing this form is the right choice for you. If you do have a lawyer but you aren't sure whether your claim is under the Family Law Act, ask your lawyer.
field: plaintiff_has_lawyer
buttons:
  - I do have a lawyer: True
  - I do not have a lawyer: False
---
id: lawyer name
question: What is your lawyer's name?
fields:
  - "Lawyer's name": plaintiff_lawyer_name
---
id: plaintiff email
question: |
  Would you like the court to be able to contact you through email?
subquestion: |
  If you have an email address you would like to be contacted at, enter it here. If you don't have an email address, you don't need to enter anything.
fields:
  - Email address: plaintiff_email
    required: False
---
id: plaintiff fax
question: |
  Would you like the court to be able to contact you through fax?
subquestion: |
  If you have a fax number you would like to be reached at, enter it here. If you don't have a fax number, you don't need to enter anything.
fields:
  - Fax number: plaintiff_fax
    required: False
---
id: Court file number
question: |
  % if prior_court_proceeding_does_relate:
  Do you have a court file number for this proceeding?
  % else:
  Do you have a court file number?
  % endif
subquestion: |
  The first time you send a form to the court, they will create a number to help keep track of your case, and they will tell you this number. You should put that number on all the forms you send the court afterwards, including this one. If this is the first form you've filed, then you won't have a file number yet, so you can leave this blank.
  % if prior_court_proceeding_does_relate:
  You will have a different file number for this court process than you did for the court process that already happened.
  % endif
fields:
  - Court file number: court_file_number
    required: False
---
id: Court registry
question: |
  What court registry are you filing with?
subquestion: |
  Registries are the parts of the court system that handle receiving forms, and there are many different registries. Unless you have a good reason to choose a specific registry, you should choose the one closest to where you live.
fields:
  - Court registry: court_registry
    datatype: object
    choices:
      - court_registries
---
progress: 100
mandatory: True
id: Placeholder download screen
question: |
  Download
subquestion: |
  ### Next steps

  % if plaintiff_has_lawyer:
  * Have your lawyer complete the Lawyer's Certificate (the last page of the form).
  % endif
  * File your completed form with the court. You can either mail the form or file it online.
    * Option 1: Print the form and mail it to the court registry. The address for the ${ court_registry.name } registry is:
      ${ court_registry.address }
    * Option 2: File the form online through [Court Services Online](https://justice.gov.bc.ca/cso/index.do). You will need to register for an account with Court Services Online and an account with BCeID. You can register for these accounts online, for free.

  Below is a preview of your form.
  
  ${ bcscf3nofc_attachment['final'] }
need: bcscf3nofc
attachment code: bcscf3nofc_attachment['final']
---
objects:
  - bcscf3nofc_attachment: DADict
---
attachment:
    variable name: bcscf3nofc_attachment[i]
    name: NoFC
    filename: NoFC
    skip undefined: True
    pdf template file:
      code: accumulated_template
    fields: 
      - "plaintiff_name": ${ str(plaintiffs[0]) }
      - "respondent_name": ${ str(respondents[0]) }
      - "respondent_name__2": ${ str(respondents[0]) }
      - "plaintiff_name__2": ${ str(plaintiffs[0]) }
      - "plaintiff_address_block": ${ plaintiffs[0].address.block() }
      - "plaintiff_email": ${ plaintiffs[0].email }
      - "signature_date": ${ signature_date }
      # If it is a signature, test which file version we're expecting. leave it empty unless it's the final attachment version
      - "plaintiff_signature": ${ plaintiffs[0].signature if i == 'final' else '' }
      - "plaintiff_name__3": ${ str(plaintiffs[0]) }
      - "court_file_number": ${ court_file_number }
      - "court_registry": ${ court_registry.name }
      - "court_registry__2": ${ court_registry.name }
      - "court_registry_address": ${ court_registry.address }
      - "plaintiff_relationship": ${ plaintiff_relationship }
      - "respondent_relationship": ${ respondent_relationship }
      - "plaintiff_and_respondent_did_begin_marriage_like_relationship": ${ plaintiff_and_respondent_did_begin_marriage_like_relationship }
      - "marriage_like_relationship_start_date": ${ marriage_like_relationship_start_date }
      - "plaintiff_and_respondent_did_marry": ${ plaintiff_and_respondent_did_marry }
      - "marriage_date": ${ marriage_date }
      - "plaintiff_and_respondent_did_separate": ${ plaintiff_and_respondent_did_separate }
      - "separation_date": ${ separation_date }
      - "plaintiff_and_respondent_were_divorced": ${ plaintiff_and_respondent_were_divorced }
      - "divorce_date": ${ divorce_date }
      - "nothing_prior_does_relate": ${ nothing_prior_does_relate }
      - "prior_written_agreement_does_relate": ${ prior_written_agreement_does_relate }
      - "prior_written_agreement_date": ${ prior_written_agreement_date }
      - "prior_court_order_does_relate": ${ prior_court_order_does_relate }
      - "prior_court_order_date": ${ prior_court_order_date }
      - "prior_court_proceeding_does_relate": ${ prior_court_proceeding_does_relate }
      - "prior_court_proceeding_file_number": ${ prior_court_proceeding_file_number }
      - "prior_court_proceeding_registry": ${ prior_court_proceeding_registry.name }
      - "plaintiff_is_claiming_divorce": ${ plaintiff_is_claiming_divorce }
      - "plaintiff_is_claiming_order_respecting_children": ${ plaintiff_is_claiming_order_respecting_children }
      - "plaintiff_is_claiming_spousal_support": ${ plaintiff_is_claiming_spousal_support }
      - "plaintiff_is_claiming_family_property_and_debt": ${ plaintiff_is_claiming_family_property_and_debt }
      - "plaintiff_is_claiming_alternative_order": ${ plaintiff_is_claiming_alternative_order }
      - "plaintiff_is_claiming_order_for_costs": ${ plaintiff_is_claiming_order_for_costs }
      - "spousal_support_current": ${ spousal_support_current }
      - "claimant_proposes_support": ${ claimant_proposes_support }
      - "spousal_support_proposed": ${ spousal_support_proposed }
      - "claimant_seeks_statutory_order": ${ claimant_seeks_statutory_order }
      - "claimant_seeks_divorce_act_order": ${ claimant_seeks_divorce_act_order }
      - "claimant_seeks_family_law_act_order": ${ claimant_seeks_family_law_act_order }
      - "claimant_income_annual_gross": ${ currency(claimant_income_annual_gross ) }
      - "claimant_does_not_know_spouse_income": ${ claimant_does_not_know_spouse_income }
      - "spouse_income_annual": ${ currency(spouse_income_annual ) }
      - "claimant_knows_spouse_income": ${ claimant_knows_spouse_income }
      - "spouse_income_facts": ${ spouse_income_facts }
      - "plaintiff_fax": ${ plaintiff_fax }
      - "signer_name": ${ plaintiffs[0].name }
---
id: bcscf3nofc review screen
event: review_bcscf3nofc
question: |
  Placeholder Review Screen
subquestion: |
  Edit your answers below
review: 
  - Edit: court_file_number
    button: |
      Court file number:
      ${ court_file_number }
  - Edit: court_registry
    button: |
      Court registry:
      ${ court_registry }
  - Edit: plaintiff_relationship
    button: |
      Brief description of claimant's relationship to other parties to this family law case:
      ${ plaintiff_relationship }
  - Edit: respondent_relationship
    button: |
      Brief description of respondent's relationship to other parties to this family law case:
      ${ respondent_relationship }
  - Edit: plaintiff_and_respondent_did_begin_marriage_like_relationship
    button: |
      Plaintiff and respondent lived together in a marriage-like relationship:
      ${ word(yesno(plaintiff_and_respondent_did_begin_marriage_like_relationship)) }
  - Edit: marriage_like_relationship_start_date
    button: |
      Date the parties' marriage-like relationship began:
      ${ marriage_like_relationship_start_date.format() }
  - Edit: plaintiff_and_respondent_did_marry
    button: |
      Plaintiff and respondent have been married:
      ${ word(yesno(plaintiff_and_respondent_did_marry)) }
  - Edit: marriage_date
    button: |
      Date of marriage:
      ${ marriage_date.format() }
  - Edit: plaintiff_and_respondent_did_separate
    button: |
      Plaintiff and respondent separated:
      ${ word(yesno(plaintiff_and_respondent_did_separate)) }
  - Edit: separation_date
    button: |
      Date of separation:
      ${ separation_date.format() }
  - Edit: plaintiff_and_respondent_were_divorced
    button: |
      Plaintiff and respondent were divorced:
      ${ word(yesno(plaintiff_and_respondent_were_divorced)) }
  - Edit: divorce_date
    button: |
      Date of divorce:
      ${ divorce_date.format() }
  - Edit: nothing_prior_does_relate
    button: |
      There is no agreement, court order or court proceeding already about anything being claimed in this notice:
      ${ word(yesno(nothing_prior_does_relate)) }
  - Edit: prior_written_agreement_does_relate
    button: |
      A prior written agreement relates to something being claimed in this notice:
      ${ word(yesno(prior_written_agreement_does_relate)) }
  - Edit: prior_written_agreement_date
    button: |
      Date of prior written agreement:
      ${ prior_written_agreement_date.format() }
  - Edit: prior_court_order_does_relate
    button: |
      Prior court order does relate to something being claimed in this notice:
      ${ word(yesno(prior_court_order_does_relate)) }
  - Edit: prior_court_order_date
    button: |
      Date of prior court order:
      ${ prior_court_order_date.format() }
  - Edit: prior_court_proceeding_does_relate
    button: |
      Prior court proceeding does relate to something being claimed in this notice:
      ${ word(yesno(prior_court_proceeding_does_relate)) }
  - Edit: prior_court_proceeding_file_number
    button: |
      Prior court proceeding file number:
      ${ prior_court_proceeding_file_number }
  - Edit: prior_court_proceeding_registry
    button: |
      Prior court proceeding registry:
      ${ prior_court_proceeding_registry }
  - Edit: plaintiff_is_claiming_divorce
    button: |
      Plaintiff is claiming divorce:
      ${ word(yesno(plaintiff_is_claiming_divorce)) }
  - Edit: plaintiff_is_claiming_order_respecting_children
    button: |
      Plaintiff is claiming an order respecting children:
      ${ word(yesno(plaintiff_is_claiming_order_respecting_children)) }
  - Edit: plaintiff_is_claiming_spousal_support
    button: |
      Plaintiff is claiming spousal support:
      ${ word(yesno(plaintiff_is_claiming_spousal_support)) }
  - Edit: plaintiff_is_claiming_family_property_and_debt
    button: |
      Plaintiff is claiming family property and debt:
      ${ word(yesno(plaintiff_is_claiming_family_property_and_debt)) }
  - Edit: plaintiff_is_claiming_alternative_order
    button: |
      Plaintiff is claiming something else:
      ${ word(yesno(plaintiff_is_claiming_alternative_order)) }
  - Edit: plaintiff_is_claiming_order_for_costs
    button: |
      Plaintiff is claiming an order for legal costs:
      ${ word(yesno(plaintiff_is_claiming_order_for_costs)) }
    - Edit: spousal_support_current
    button: |
      Spousal support current:
      ${ spousal_support_current }
  - Edit: claimant_proposes_support
    button: |
      Claimant proposes support:
      ${ word(yesno(claimant_proposes_support)) }
  - Edit: spousal_support_proposed
    button: |
      Spousal support proposed:
      ${ spousal_support_proposed }
  - Edit: claimant_seeks_statutory_order
    button: |
      Claimant seeks statutory order:
      ${ word(yesno(claimant_seeks_statutory_order)) }
  - Edit: claimant_seeks_divorce_act_order
    button: |
      Claimant seeks divorce act order:
      ${ word(yesno(claimant_seeks_divorce_act_order)) }
  - Edit: claimant_seeks_family_law_act_order
    button: |
      Claimant seeks family law act order:
      ${ word(yesno(claimant_seeks_family_law_act_order)) }
  - Edit: claimant_income_annual_gross
    button: |
      Claimant income annual gross:
      ${ currency(claimant_income_annual_gross) }
  - Edit: claimant_does_not_know_spouse_income
    button: |
      Claimant does not know spouse income:
      ${ word(yesno(claimant_does_not_know_spouse_income)) }
  - Edit: spouse_income_annual
    button: |
      Spouse income annual:
      ${ currency(spouse_income_annual) }
  - Edit: claimant_knows_spouse_income
    button: |
      Claimant knows spouse income:
      ${ word(yesno(claimant_knows_spouse_income)) }
  - Edit: spouse_income_facts
    button: |
      Spouse income facts:
      ${ spouse_income_facts }
  - Edit: plaintiff_fax
    button: |
      Plaintiff fax number:
      ${ plaintiff_fax }
  - Edit: plaintiff_lawyer_name
    button: |
      Plaintiff's lawyer's name:
      ${ plaintiff_lawyer_name }
  - Edit: plaintiffs[0]
    button: |
      plaintiffs[0]:
      ${ plaintiffs[0] }
  - Edit: respondents[0]
    button: |
      respondents[0]:
      ${ respondents[0] }
  - Edit: plaintiffs[0].address.address
    button: |
      plaintiffs[0].address.address:
      ${ plaintiffs[0].address.address }
  - Edit: plaintiffs[0].email
    button: |
      plaintiffs[0].email:
      ${ plaintiffs[0].email }
  - Edit: signature_date
    button: |
      signature_date:
      ${ signature_date }
  - Edit: plaintiffs[0].signature
    button: |
      plaintiffs[0].signature:
      ${ plaintiffs[0].signature }
